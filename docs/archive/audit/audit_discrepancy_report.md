# ุชูุฑูุฑ ุชุจุงูู ุงููุชุงุฆุฌ (Audit Discrepancy Report)

ููุถุญ ูุฐุง ุงูููู ุงูุงุฎุชูุงูุงุช ุงูุฌููุฑูุฉ ูุงูุชุญููุงุช ูู ุงูููู ุงูุชููู ุจูู ุงูุชูุงุฑูุฑ ุงูุฃูููุฉ (Phases 0-4) ูุจูู ุงูุชุฏููู ุงูุชููู ุงูุฃุฎูุฑ ุงููุจูู ุนูู ุงูุฃุฏูุฉ (Evidence-Based Audit).

---

## โ๏ธ ุงูุงุฎุชูุงูุงุช ุงูุฌููุฑูุฉ (Key Discrepancies)

### 1) ูุญุฑู ุงูุฐูุงุก ุงูุงุตุทูุงุนู (AI vs. Heuristics)

- **ูู ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ:** ุชู ูุตูู ูู "ูุธุงู ุฐูู ูุทุงุจู ุจุงุณุชุฎุฏุงู AI" ู "ุชุนูู ุขูู ูุญูู".
- **ุจูุงุกู ุนูู ุงูุฃุฏูุฉ:** ุชุจููู ุฃูู ูุฌุฑุฏ **ุฎูุงุฑุฒููุงุช ุงุณุชูุชุงุฌูุฉ ุซุงุจุชุฉ (Hard-coded Heuristics)**. ููู `ConfidenceCalculatorV2` ูุญุชูู ุนูู ุฃูุฒุงู ุซุงุจุชุฉ ุชู ุชุญุฏูุฏูุง ูุณุจูุงู ูู ูุจู ุงููุจุฑูุฌ (ูุซู 85% ู 90%) ูููุณุช ูุชุงุฌ ุชุฏุฑูุจ ููุงุฐุฌ ุงุญุชูุงููุฉ.
- **ุงูุฃุซุฑ:** ูุณุฑ "ููู ุงูุฐูุงุก"ุ ุงููุธุงู ูุง ูุทูุฑ ุฐูุงุกู ุฐุงุชูุงู ููููู ูุทุจู ูุนุงุฏูุงุช ุญุณุงุจูุฉ ุจุณูุทุฉ ุนูู ุจูุงูุงุช ูุชุฑุงููุฉ.

### 2) ููุงุกุฉ ูุธุงู "ุงูุชุนูู" (Learning vs. Pollution)

- **ูู ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ:** ุงุนุชุจุฑ ูุธุงู ุงูุชุนูู ููุฒุฉ ุฅูุฌุงุจูุฉ ูุชุญุณูู ุงูุฏูุฉ ูุน ุงูููุช.
- **ุจูุงุกู ุนูู ุงูุฃุฏูุฉ:** ุงูุชุดููุง ุฎุทุฑ **"ุชููุซ ุงูุชุนูู" (Learning Pollution)**. ููู `api/save-and-next.php` ูุณุฌู ุฃู ูุฑุงุฑ ูููุณุชุฎุฏู ูู "ุญูููุฉ" ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุชุนูู ุฏูู ุฃู ููุชุฑุฉ.
- **ุงูุฃุซุฑ:** ุฅุฐุง ุฃุฎุทุฃ ุงููุณุชุฎุฏูุ ุณูููู ุงููุธุงู ุจุชุนููู ูุฐุง ุงูุฎุทุฃ ูุงูุชุฑุงุญ ุนุงูู ุงูุซูุฉุ ููุง ูุญูู ุงูููุฒุฉ ุฅูู ุซุบุฑุฉ ูู ุฌูุฏุฉ ุงูุจูุงูุงุช.

### 3) ุชูููู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก (UX vs. Silent Failure)

- **ูู ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ:** ููุตู ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุฃูู "ุฌูุฏ ููุงุณุชุฎุฏุงู ุงููุญูู" ูุน ููุงุญุธุงุช ุจุณูุทุฉ ุนูู ุงุณุชุฎุฏุงู `die()`.
- **ุจูุงุกู ุนูู ุงูุฃุฏูุฉ:** ุชู ุงูุนุซูุฑ ุนูู **"ููุงุทู ูุดู ุตุงูุช" (Silent Failure Zones)**. ูู ููู `api/import.php` (ุงูุณุทุฑ 116)ุ ูุชู ุงุจุชูุงุน ุงูุงุณุชุซูุงุกุงุช (Exception swallowing) ุชูุงูุงูุ ููุง ูููู ุงููุณุชุฎุฏู ุจูุฌุงุญ ุงูุนูููุฉ ุจูููุง ูุดูุช ุงูุฃุชูุชุฉ ุฎูู ุงูููุงููุณ.

### 4) ุชุชุจุน ุงูุชุงุฑูุฎ (Historical Snapshot vs. Storage Explosion)

- **ูู ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ:** ุชู ูุตู ููุฒุฉ "ุงูููุทุงุช ุงูุชุงุฑูุฎูุฉ" ูุฃุฏุงุฉ ูููุฉ ููุชุฏููู ูุงููุฑุงุฌุนุฉ.
- **ุจูุงุกู ุนูู ุงูุฃุฏูุฉ:** ุชุจููู ุฃู ุทุฑููุฉ ุงูุชูููุฐ ุชุดูู **ุฎุทุฑุงู ุนูู ุงูุฃุฏุงุก (Storage Risk)**. ุงููุธุงู ูุฎุฒู ููุฏ HTML ุงููุงูู (ูุน CSS) ุฏุงุฎู `guarantee_history` ุนูุฏ ูู ุชุบููุฑุ ููุง ุณูุคุฏู ูุงููุฌุงุฑ ุญุฌู ูุงุนุฏุฉ ุจูุงูุงุช SQLite ูุน ุงูููุช.

### 5) ูุฎุงุทุฑ ุงูุจูุงูุงุช ุงููุงููุฉ (Float vs. Integrity)

- **ูู ุงูุชูุงุฑูุฑ ุงูุณุงุจูุฉ:** ุงุนุชูุจุฑ ุงุณุชุฎุฏุงู `floatval` ุฃุณููุจุงู ูุฏููุงู ููููู ุบูุฑ ุถุงุฑ.
- **ุจูุงุกู ุนูู ุงูุฃุฏูุฉ:** ุชุจููู ุฃูู **ุฎุทุฑ ุญุฑุฌ ุนูู ุณูุงูุฉ ุงูุจูุงูุงุช**. ุงููุงูุฉ `normalizeAmount` ูู `ImportService` ูุฏ ุชุญูู ุงููุจุงูุบ ุงููุงููุฉ ุฅูู `0` ูู ุญุงู ูุฌูุฏ ูุตูุต ุบูุฑ ูุชููุนุฉ ูู ููู ุงูุฅูุณู ุฏูู ุฅุทูุงู ุฃู ุชูุจูู ูููุณุชุฎุฏู.

---

## ๐ ุชุญุฏูุซ ุฌุฑุฏ ุงููููุงุช (Inventory Shift)

| ุงูููู/ุงููููู | ุงููููู ุงูุณุงุจู | ุงููููู ุงูุญุงูู ุจุนุฏ ุงูุชุฏููู |
| :--- | :--- | :--- |
| `RecordHydratorService` | ุงูููู ุงูููุช ุงููุญูุฏ ุงูููุชุดู | ูุฌุฑุฏ ููุฉ ุฌุจู ุงูุฌููุฏุ ุชู ุงูุชุดุงู 4 ูููุงุช ูุชููุฉ ุฅุถุงููุฉ |
| `ImportSession` | ููู ููุฏูู ุนุงุฏู | ููู "ูุชูู" (Orphan) ูุง ุชูุฌุฏ ูู ุฃู ูุฑุงุฌุน ูู ุงูููุฏ |
| `AutoAcceptService` | ุฎุฏูุฉ ูุนุงูุฌุฉ ุชููุงุฆูุฉ | ููุฏ ููุช ูู ูุนุฏ ูุณุชุฎุฏูุงู ูู ุฃู API |
| `Preview Logic` | ููุฒุฉ ูุงุนูุฉ | ุฏุงูุฉ `previewExcel` ูุนุทูุฉ (Dead) ููุง ูููู ุงููุตูู ููุง ูู ุงููุงุฌูุฉ |

---

## ๐ก ุงูุฎูุงุตุฉ: ููู ุชุบูุฑุช ูุฌูุฉ ุงููุธุฑุ

ุงูุชูููุง ูู ุฑุคูุฉ ุงููุธุงู ูู **"ุชุทุจูู ููุจ ุญุฏูุซ ุจุฐูุงุก ุงุตุทูุงุนู ูุญูู"** ุฅูู ุฑุคูุชู ูู **"ูุฌููุนุฉ ุจุฑุงูุฌ ูุตูุฉ ุฅุฌุฑุงุฆูุฉ (Scripts) ุชุคุฏู ุงูุบุฑุถ ูููููุง ุชูุชูุฑ ููููุงุนุฏ ุงูุจููููุฉ ุงูุตุงุฑูุฉ"**.

**ุงูุชูุงูุถ ุงูุฃูุจุฑ ุงูููุชุดู:** ูู ุงููุฌูุฉ ุจูู "ุงูุงุฏุนุงุกุงุช ุงููุธูููุฉ" ูู ุงููุงุฌูุฉ ูุงููุซุงุฆูุ ูุจูู "ุงูุญูููุฉ ุงูุจุฑูุฌูุฉ" ุงูุชู ุชุนุชูุฏ ุนูู ุงูุงูุชูุงู ุญูู ุงููุดุงูู (Quick Fixes) ุจุฏูุงู ูู ุงูุญููู ุงูุฌุฐุฑูุฉ (ูุซู ุบูุงุจ ุงูู Transactions ูุงูู Validation Layers).

---
*ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุชูุฑูุฑ ุงููุณุชูู ูุชูุถูุญ ุงูููุงุฑู ุงููููุฉ ุฏูู ุงูุชุนุฏูู ุนูู ุงูุชูุงุฑูุฑ ุงูุฃุตููุฉ.*
