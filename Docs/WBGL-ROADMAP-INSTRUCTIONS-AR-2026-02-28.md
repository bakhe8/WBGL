# تعليمات التنفيذ — خارطة طريق WBGL (90 يوم)

تاريخ الإصدار: 2026-02-28  
الغرض: اعتماد خارطة طريق تنفيذية كاملة بعد مرحلة التدقيق.

المرجع الرسمي:
- `Docs/WBGL-FINAL-CLAIMS-REGISTER-AR-2026-02-28.md`
- `Docs/WBGL-UNIFIED-RESOLVED-REPORT-AR-2026-02-28.md`

---

## 1) الهدف التنفيذي

1. استعادة الثقة التشغيلية خلال 30 يوم.
2. تثبيت السلوك والصلاحيات خلال 60 يوم.
3. رفع الإنتاجية والوضوح تحت الضغط خلال 90 يوم.

---

## 2) قرارات فورية

1. تجميد الميزات الجديدة لمدة 2-4 أسابيع.
2. تشغيل برنامج Stabilization رسمي مرتبط بـ claims (`FR-xx`).
3. منع أي تطوير جديد قبل إغلاق عناصر `P0`.

---

## 3) خطة المراحل

## المرحلة 0 (أيام 1-5): تهيئة التنفيذ
1. اعتماد baseline للمؤشرات الحالية.
2. تحويل claims إلى backlog تنفيذي (`P0/P1/P2`).
3. تعيين مالك لكل بند.
4. اعتماد Definition of Done موحد.

المخرجات:
1. لوحة تنفيذ واحدة لكل claims.
2. قائمة مخاطر أسبوعية.
3. خطة regression testing.

## المرحلة 1 (أسابيع 2-4): إغلاق مخاطر P0
1. `FR-03` إيقاف `Read-with-write` في مسارات القراءة.
2. `FR-06` إصلاح ترتيب بوابات `reopen/break-glass`.
3. `FR-25` معالجة `schema drift` وتوحيد العقود.
4. `FR-22` توحيد صلاحيات مسارات الكتابة الحساسة (`save-and-next`).

المخرجات:
1. إصدار P0 ثابت.
2. اختبارات Role-based للمسارات الحرجة.
3. تقرير إغلاق P0 بالأدلة.

## المرحلة 2 (أسابيع 5-8): وضوح تشغيلي وتجربة الأدوار
1. إخفاء الأزرار غير المصرح بها بدل الرفض بعد الضغط.
2. توحيد رسائل المنع: السبب + الصلاحية + الجهة المخولة.
3. فصل بصري واضح بين `status` و`workflow_step` و`active_action`.
4. توضيح مسار `Undo` مقابل `Reopen`.
5. تحسين اتساق عقود API.

المخرجات:
1. انخفاض شكاوى الصلاحيات.
2. تحديث تدريب role-based.
3. UAT تشغيلي مع المستخدمين.

## المرحلة 3 (أسابيع 9-12): الإنتاجية تحت الحجم
1. تحسين `Save-and-Next` لتقليل reload الكامل.
2. إضافة preflight حقيقي لاستيراد Excel.
3. تحسين عرض نتائج batch (`processed/blocked/errors`).
4. توسيع الرؤية التشغيلية للفرق المعنية.
5. اختبار أداء على سيناريوهات فعلية.

المخرجات:
1. تقليل زمن الدورة اليومية.
2. تقليل الإرهاق الذهني.
3. تقرير جاهزية ما بعد الاستقرار.

---

## 4) أدوار البرنامج

1. مالك النظام: اعتماد الأولويات والقرارات النهائية.
2. قائد تقني: تنفيذ الإصلاحات البنيوية الحرجة.
3. قائد عمليات: تحقق ميداني من أثر الإصلاح.
4. QA Lead: منع الارتداد عبر regression suite.
5. Compliance: اعتماد حوكمة المسارات الحساسة.
6. IT Admin: الإطلاق التدريجي والمراقبة والدعم.

---

## 5) خطة الاختبارات الإلزامية

1. Role-based E2E لكل دور فعلي.
2. API contract tests للمسارات الحساسة.
3. Schema/migration contract checks في CI.
4. اختبارات تمنع أي `read-triggered write`.
5. سيناريوهات ضغط: Excel/duplicates/batch/reopen/undo.

---

## 6) استراتيجية الإطلاق

1. Canary داخلي محدود.
2. إطلاق تدريجي: 10% ثم 50% ثم 100%.
3. الانتقال بين المراحل مشروط بنجاح المؤشرات.
4. خطة rollback إلزامية لكل إصدار.

---

## 7) مؤشرات النجاح المستهدفة

1. `Read-triggered writes`: الوصول إلى صفر.
2. `Permission denied بعد الضغط`: انخفاض >= 60%.
3. فشل `Manual Entry`: أقل من 1%.
4. نجاح `reopen` للأدوار المخولة: > 95%.
5. تحسن زمن معالجة الدفعات: >= 25%.
6. انخفاض تذاكر دعم الصلاحيات: >= 50%.

---

## 8) الحوكمة الأسبوعية

1. اجتماع تنفيذي أسبوعي (45 دقيقة) لاتخاذ القرار.
2. اجتماع تشغيلي أسبوعي (30 دقيقة) مع ممثلي الأدوار.
3. تقرير ثابت: `Done / Blocked / Risk / Next`.
4. أي تعثر `P0` أكثر من 48 ساعة يرفع مباشرة للمالك.

---

## 9) المخاطر وكيف تُدار

1. توسع النطاق أثناء الإصلاح: يمنع ببوابة تغيير صارمة.
2. كسر مسارات أخرى: يمنع بـ regression pack إلزامي.
3. مقاومة التغيير: تعالج بـ UAT مبكر وتدريب مركز.
4. تأخر حسم الصلاحيات: يحسم بقرار موحد من مالك النظام.

---

## 10) قرار نهاية الـ90 يوم

1. إذا أغلقت `P0` ونجحت المؤشرات: بدء roadmap النمو.
2. إذا بقيت ثغرات حرجة: تمديد stabilization دورة إضافية.
3. لا تعود الميزات الجديدة قبل ثبات السلوك والصلاحيات.

